---
import BaseLayout from '../layouts/BaseLayout.astro';
import board from '../data/board.json';

const { safeguarding, contact } = board;
---

<BaseLayout title="Safeguarding" description="Tutela dei minori e prevenzione della violenza di genere - Circolo Nautico Caldè">
  <!-- Hero -->
  <section class="relative bg-[var(--color-accent-primary)] pt-10 md:pt-14 pb-16 md:pb-20 overflow-hidden">
    <!-- Wave pattern -->
    <div class="absolute inset-0 pointer-events-none mix-blend-soft-light opacity-50" aria-hidden="true">
      <img src="images/wave-pattern.jpg" alt="" class="w-full h-full object-cover" />
    </div>
    <div class="relative max-w-6xl mx-auto px-4 lg:px-6">
      <div class="inline-block bg-[var(--color-accent-primary)] px-6 py-4 rounded-lg">
        <h1 class="text-3xl md:text-4xl font-black text-white" style="font-size: var(--text-3xl);">
          {safeguarding.title}
        </h1>
      </div>
    </div>
    <!-- Wave Divider -->
    <div class="absolute bottom-0 left-0 right-0">
      <svg viewBox="0 0 1440 120" fill="none" preserveAspectRatio="none" class="w-full h-12 md:h-16">
        <path d="M0 120L60 110C120 100 240 80 360 70C480 60 600 60 720 65C840 70 960 80 1080 85C1200 90 1320 90 1380 90L1440 90V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="var(--color-bg-primary)" class="dark:fill-[var(--color-bg-primary-dark)]"/>
      </svg>
    </div>
  </section>

  <!-- Intro -->
  <section class="py-8 border-b border-gray-200 dark:border-gray-800">
    <div class="max-w-6xl mx-auto px-4 lg:px-6">
      <p class="text-lg text-[var(--color-text-secondary)] dark:text-[var(--color-text-secondary-dark)] max-w-3xl">
        Tutela dei minori e prevenzione della violenza di genere
      </p>
    </div>
  </section>

  <!-- Content -->
  <section class="py-12 md:py-16">
    <div class="max-w-4xl mx-auto px-4 lg:px-6">
      <!-- Introduction -->
      <div class="prose prose-lg max-w-none mb-12">
        <p class="text-[var(--color-text-secondary)] dark:text-[var(--color-text-secondary-dark)] leading-relaxed">
          {safeguarding.description}
        </p>
      </div>

      <!-- Responsabile -->
      <div class="bg-[var(--color-accent-primary)]/5 dark:bg-[var(--color-accent-primary-dark)]/10 rounded-xl p-6 md:p-8 border border-[var(--color-accent-primary)]/20 dark:border-[var(--color-accent-primary-dark)]/20 mb-12">
        <div class="flex items-start gap-4">
          <div class="w-12 h-12 bg-[var(--color-accent-primary)] dark:bg-[var(--color-accent-primary-dark)] rounded-xl flex items-center justify-center flex-shrink-0">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
            </svg>
          </div>
          <div>
            <h2 class="text-xl font-bold mb-1">{safeguarding.officer.role}</h2>
            <p class="text-lg font-medium mb-2">{safeguarding.officer.name}</p>
            <a 
              href={`mailto:${safeguarding.officer.email}`}
              class="inline-flex items-center gap-2 text-[var(--color-accent-primary)] dark:text-[var(--color-accent-primary-dark)] hover:underline"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
              {safeguarding.officer.email}
            </a>
          </div>
        </div>
      </div>

      <!-- Documents -->
      <h2 class="text-2xl font-black mb-6" style="font-size: var(--text-2xl);">
        Documenti
      </h2>
      
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        {safeguarding.documents.map((doc) => (
          <a
            href={doc.url}
            class="flex items-center gap-4 p-5 bg-[var(--color-bg-secondary)] dark:bg-[var(--color-bg-secondary-dark)] rounded-xl border border-gray-200 dark:border-gray-700 hover:border-[var(--color-accent-primary)] dark:hover:border-[var(--color-accent-primary-dark)] hover:shadow-lg transition-all touch-target group"
            target="_blank"
            rel="noopener noreferrer"
          >
            <div class="w-12 h-12 bg-[var(--color-accent-primary)]/10 dark:bg-[var(--color-accent-primary-dark)]/10 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:bg-[var(--color-accent-primary)]/20 transition-colors">
              <svg class="w-6 h-6 text-[var(--color-accent-primary)] dark:text-[var(--color-accent-primary-dark)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
            </div>
            <div class="flex-1 min-w-0">
              <p class="font-bold truncate">{doc.name}</p>
              <p class="text-sm text-[var(--color-accent-primary)] dark:text-[var(--color-accent-primary-dark)]">
                Scarica PDF →
              </p>
            </div>
          </a>
        ))}
      </div>

      <!-- Legal Note -->
      <div class="mt-12 p-6 bg-[var(--color-bg-secondary)] dark:bg-[var(--color-bg-secondary-dark)] rounded-xl border border-gray-200 dark:border-gray-700">
        <h3 class="font-bold mb-2">Riferimenti Normativi</h3>
        <p class="text-sm text-[var(--color-text-secondary)] dark:text-[var(--color-text-secondary-dark)]">
          Questo modello è stato redatto come previsto dall'Art.16 comma 2 del decreto legislativo n.39 del 28 Febbraio 2021 e rispecchia le linee guida pubblicate dalla Federazione Italiana Vela.
        </p>
      </div>
    </div>
  </section>

  <!-- Contact CTA -->
  <section class="py-12 md:py-16 bg-[var(--color-bg-secondary)] dark:bg-[var(--color-bg-secondary-dark)]">
    <div class="max-w-4xl mx-auto px-4 lg:px-6 text-center">
      <h2 class="text-xl font-bold mb-4">Hai domande o segnalazioni?</h2>
      <p class="text-[var(--color-text-secondary)] dark:text-[var(--color-text-secondary-dark)] mb-6">
        Contatta il nostro Responsabile Safeguarding per qualsiasi informazione.
      </p>
      <a
        href={`mailto:${safeguarding.officer.email}`}
        class="inline-flex items-center justify-center px-6 py-3 bg-[var(--color-accent-primary)] dark:bg-[var(--color-accent-primary-dark)] text-white font-bold uppercase tracking-wide rounded-lg hover:opacity-90 transition-opacity touch-target"
      >
        Contatta il Responsabile
      </a>
    </div>
  </section>
</BaseLayout>

